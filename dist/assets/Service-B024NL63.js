import{s as B}from"./breadcrumb.esm-DyZeSddu.js";import{s as C,b as E,E as M}from"./Eventbus-B0Wmymg4.js";import{a as V}from"./dropdown.esm-DlDDsJjs.js";import{_ as I,h as F,s as j,a0 as T,a1 as U,r as i,o as d,c as u,a as e,b as c,n as h,d as r,w as n,F as v,G as A,t as f,e as g,f as k}from"./index-D6MC70E2.js";const R={components:{Breadcrumb:B,DataView:C,Dropdown:V,Dialog:F,Button:j,StripeCheckout:T,Toast:U},props:{isDarkMode:{type:Boolean,default:!0}},data(){return{imgURL2:"/src/assets/img/banner2.png",home:{icon:"pi pi-home",url:"/"},items:[{label:"Services",url:"/#"}],services:[],filterOptions:[{label:"All Service",value:"all"},{label:"Car Service",value:"car"},{label:"Tire Service",value:"tire"}],selectedFilter:"",visible:!1,selectedService:null,selectedBrand:null,lineItems:[],publishableKey:"pk_test_51PIpED01HTEsX8gXhs9HBmHQl16bAZYyvArNfoLvILs5DO7IoIC6uqG7uqiHMkjCwu5EZF5VYu9JSvkBJoALW0kw00qNCZMn76",successUrl:"http://localhost:5173/",cancelUrl:"http://localhost:5173/services"}},mounted(){this.services=E},computed:{backgroundImageStyle2(){return{backgroundImage:`url(${this.imgURL2})`,backgroundSize:"cover",backgroundPosition:"top"}},filteredServices(){return console.log("Selected filter:",this.selectedFilter),!this.selectedFilter||Object.keys(this.selectedFilter).length===0?this.services:this.services.filter(l=>this.selectedFilter.value==="all"?this.services:l.category===this.selectedFilter.value)}},inject:["isDarkMode","toggleTheme"],methods:{showDialog(l){this.selectedService=l,this.selectedBrand=null,this.visible=!0},addToCart(){if(this.selectedBrand){const l={...this.selectedService,selectedBrand:this.selectedBrand};M.emit("add-to-cart",l),this.visible=!1,console.log(l)}},navigateRoute(){this.$router.push("/appointment"),window.scrollTo(0,0)},async submit(){if(!this.selectedBrand){console.error("No brand selected"),this.$refs.toast.add({severity:"warn",summary:"Please select a brand",life:1200});return}this.lineItems=[{price:this.selectedBrand.priceId,quantity:1}],console.log(this.$refs.checkoutRef);try{const l=await this.$refs.checkoutRef.redirectToCheckout({lineItems:this.lineItems,mode:"payment",successUrl:this.successUrl,cancelUrl:this.cancelUrl});console.log(l),l.error&&console.error("Error during checkout:",l.error)}catch(l){console.error("Error during checkout:",l)}}}},L=e("p",{class:"flex relative justify-content-center text-xs"},"GREAT CAR SERVICE",-1),N=e("h1",{class:"about2-header flex justify-content-center text-white text-5xl text-center"}," Premium car service matched with great workmanship. Best services you can count on ",-1),O=[L,N],P={class:"md:w-12rem relative"},q=["src","alt"],H={class:"flex flex-column md:flex-row justify-content-between md:align-items-center flex-1 gap-4"},z={class:"flex flex-row md:flex-column justify-content-between align-items-start gap-2"},G={class:"flex flex-column md:align-items-end gap-5"},Z={class:"w-full flex justify-content-center custom-border"},J={key:0,class:"flex flex-wrap flex-column align-items-center justify-content-center w-full"},K={key:0,class:"flex mt-6 surface-300 w-6 h-4rem text-xl align-items-center justify-content-center"},X={class:"font-semibold"},Y={class:"flex w-full justify-content-end justify-content-center gap-7"};function Q(l,a,W,$,t,s){const x=i("Breadcrumb"),b=i("Dropdown"),m=i("Button"),_=i("Dialog"),w=i("DataView"),y=i("stripe-checkout"),D=i("Toast");return d(),u(v,null,[e("div",{class:h(["section2-wrapper",{dark:s.isDarkMode}])},[e("div",{class:"image2",style:c(s.backgroundImageStyle2)},O,4),e("div",{class:h(["services-content",[{dark:s.isDarkMode}]])},[r(x,{home:t.home,model:t.items,class:h(["pl-7",{dark:s.isDarkMode}])},null,8,["home","model","class"]),e("div",null,[e("h1",{class:h(["content-header flex justify-content-center text-blue-700 text-5xl",[{dark:s.isDarkMode}]])}," All SERVICES ",2),r(w,{value:s.filteredServices},{header:n(()=>[r(b,{options:t.filterOptions,modelValue:t.selectedFilter,"onUpdate:modelValue":a[0]||(a[0]=p=>t.selectedFilter=p),optionLabel:"label",placeholder:"All Services"},null,8,["options","modelValue"])]),list:n(p=>[(d(!0),u(v,null,A(p.items,(o,S)=>(d(),u("div",{key:S},[e("div",{class:"flex flex-column sm:flex-row sm:align-items-center p-4 gap-3 border-1 p-7",style:c({backgroundColor:s.isDarkMode?"#212121":"initial"})},[e("div",P,[e("img",{class:"block xl:block mx-auto border-round w-full",style:c({border:s.isDarkMode?"1px solid white":"initial"}),src:o.image,alt:o.name},null,12,q)]),e("div",H,[e("div",z,[e("div",null,[e("div",{class:"text-5xl font-medium",style:c({color:s.isDarkMode?"white":"initial"})},f(o.label),5),e("span",{class:"font-medium text-secondary text-base",style:c({color:s.isDarkMode?"white":"initial"})},f(o.description),5)])])]),e("div",G,[r(m,{onClick:ee=>s.showDialog(o),class:"w-full h-3rem text-xl font-semibold bg-white border-round-xs border-1",style:c({color:s.isDarkMode?"black":"#303F9F"})},{default:n(()=>[k("Make Order")]),_:2},1032,["onClick","style"]),r(m,{class:"text-xl w-full h-3rem font-semibold text-white",style:c({border:s.isDarkMode?"1px solid white":"initial",backgroundColor:s.isDarkMode?"#6E6E6D":"#FE7A36"}),onClick:s.navigateRoute},{default:n(()=>[k("Set Appointment")]),_:1},8,["style","onClick"])])],4)]))),128)),r(_,{visible:t.visible,"onUpdate:visible":a[2]||(a[2]=o=>t.visible=o),modal:"",class:"custom-dialog custom-placeholder",style:{width:"35em",border:"10px"}},{header:n(()=>[e("div",Z,[e("h2",null,f(t.selectedService.label),1)])]),footer:n(()=>[e("div",Y,[r(m,{type:"button",label:"Buy Now",severity:"secondary",class:"bg-white text-blue-500 border-orange-500 w-3",onClick:s.submit},null,8,["onClick"]),r(m,{type:"button",label:"Add to cart",class:"bg-orange-500 text-white border-orange-500 w-3",onClick:s.addToCart},null,8,["onClick"])])]),default:n(()=>[t.selectedService?(d(),u("div",J,[r(b,{modelValue:t.selectedBrand,"onUpdate:modelValue":a[1]||(a[1]=o=>t.selectedBrand=o),options:t.selectedService.prices,optionLabel:"brand",placeholder:"Select a brand",class:"flex w-9"},null,8,["modelValue","options"]),t.selectedBrand?(d(),u("div",K,[e("p",X,"Price: "+f(t.selectedBrand.price),1)])):g("",!0)])):g("",!0)]),_:1},8,["visible"])]),_:1},8,["value"])])],2),r(y,{ref:"checkoutRef",mode:"subscription",pk:t.publishableKey,"line-items":t.lineItems,"success-url":t.successUrl,"cancel-url":t.cancelUrl},null,8,["pk","line-items","success-url","cancel-url"])],2),r(D,{ref:"toast",group:!1,position:"top-right"},null,512)],64)}const oe=I(R,[["render",Q]]);export{oe as default};
